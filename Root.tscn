[gd_scene load_steps=15 format=2]

[ext_resource path="res://Entities/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://map/Assets/TileSet.tres" type="MeshLibrary" id=2]
[ext_resource path="res://Entities/Enemy.tscn" type="PackedScene" id=3]
[ext_resource path="res://Map.gd" type="Script" id=4]
[ext_resource path="res://map/Assets/pokertile1.obj" type="ArrayMesh" id=5]
[ext_resource path="res://map/Assets/InnerTile.tres" type="Material" id=6]
[ext_resource path="res://map/Assets/game_board_tile.obj" type="ArrayMesh" id=7]
[ext_resource path="res://map/Assets/OuterTile.tres" type="Material" id=8]
[ext_resource path="res://map/Assets/pokertile2.obj" type="ArrayMesh" id=9]
[ext_resource path="res://DiceDungeon.wav" type="AudioStream" id=10]
[ext_resource path="res://ProgressBar.tscn" type="PackedScene" id=11]
[ext_resource path="res://GameOverMenu.tscn" type="PackedScene" id=12]
[ext_resource path="res://map/Assets/endtile.obj" type="ArrayMesh" id=13]
[ext_resource path="res://map/Assets/start_tile.obj" type="ArrayMesh" id=14]

[node name="Root" type="Spatial"]

[node name="GridMap" type="GridMap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.99967, 1.2812, -0.417251 )
mesh_library = ExtResource( 2 )
cell_size = Vector3( 4, 4, 4 )
cell_scale = 1.081
data = {
"cells": PoolIntArray( 0, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 11, 0, 0, 12, 0, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0, 16, 0, 0, 17, 0, 0, 18, 0, 0, 19, 0, 0, 20, 0, 0, 21, 0, 0, 22, 0, 0, 23, 0, 0, 24, 0, 0, 25, 0, 0, 26, 0, 0, 27, 0, 0, 28, 0, 0, 29, 0, 0, 30, 0, 0, 31, 0, 0, 32, 0, 0, 33, 0, 0, 34, 0, 0, 65534, 0, 1, 65535, 0, 0, 0, 1, 0, 2, 1, 0, 3, 1, 0, 4, 1, 0, 5, 1, 0, 6, 1, 0, 7, 1, 0, 8, 1, 0, 9, 1, 0, 10, 1, 0, 11, 1, 0, 12, 1, 0, 13, 1, 0, 14, 1, 0, 15, 1, 0, 16, 1, 0, 17, 1, 0, 18, 1, 0, 19, 1, 0, 20, 1, 0, 21, 1, 0, 22, 1, 0, 23, 1, 0, 24, 1, 0, 25, 1, 0, 26, 1, 0, 27, 1, 0, 28, 1, 0, 29, 1, 0, 30, 1, 0, 31, 1, 0, 32, 1, 0, 33, 1, 0, 34, 1, 0, 65534, 1, 0, 65535, 1, 0, 0, 2, 0, 1, 2, 0, 2, 2, 0, 3, 2, 0, 4, 2, 0, 5, 2, 0, 6, 2, 0, 7, 2, 0, 8, 2, 0, 9, 2, 0, 10, 2, 0, 11, 2, 0, 12, 2, 0, 13, 2, 0, 65534, 2, 0, 65535, 2, 0, 0, 65519, 0, 1, 65519, 0, 65535, 65519, 0, 0, 65520, 0, 1, 65520, 0, 65535, 65520, 0, 0, 65521, 0, 1, 65521, 0, 65535, 65521, 0, 0, 65522, 0, 1, 65522, 0, 65535, 65522, 0, 0, 65523, 0, 1, 65523, 0, 65535, 65523, 0, 0, 65524, 0, 1, 65524, 0, 65535, 65524, 0, 0, 65525, 0, 1, 65525, 0, 65535, 65525, 0, 0, 65526, 0, 1, 65526, 0, 65535, 65526, 0, 0, 65527, 0, 1, 65527, 0, 65535, 65527, 0, 0, 65528, 0, 1, 65528, 0, 65535, 65528, 0, 0, 65529, 0, 1, 65529, 0, 65535, 65529, 0, 0, 65530, 0, 1, 65530, 0, 65535, 65530, 0, 0, 65531, 0, 1, 65531, 0, 65535, 65531, 0, 0, 65532, 0, 1, 65532, 0, 65535, 65532, 0, 0, 65533, 0, 1, 65533, 0, 2, 65533, 0, 3, 65533, 0, 4, 65533, 0, 5, 65533, 0, 6, 65533, 0, 7, 65533, 0, 8, 65533, 0, 9, 65533, 0, 10, 65533, 0, 11, 65533, 0, 12, 65533, 0, 13, 65533, 0, 65534, 65533, 4, 65535, 65533, 0, 0, 65534, 0, 1, 65534, 0, 2, 65534, 0, 3, 65534, 0, 4, 65534, 0, 5, 65534, 0, 6, 65534, 0, 7, 65534, 0, 8, 65534, 0, 9, 65534, 0, 10, 65534, 0, 11, 65534, 0, 12, 65534, 0, 13, 65534, 0, 14, 65534, 0, 15, 65534, 0, 16, 65534, 0, 17, 65534, 0, 18, 65534, 0, 19, 65534, 0, 20, 65534, 0, 21, 65534, 0, 22, 65534, 0, 23, 65534, 0, 24, 65534, 0, 25, 65534, 0, 26, 65534, 0, 27, 65534, 0, 28, 65534, 0, 29, 65534, 0, 30, 65534, 0, 31, 65534, 0, 32, 65534, 0, 33, 65534, 0, 34, 65534, 0, 65534, 65534, 3, 65535, 65534, 0, 0, 65535, 0, 2, 65535, 0, 3, 65535, 0, 4, 65535, 0, 5, 65535, 0, 6, 65535, 0, 7, 65535, 0, 8, 65535, 0, 9, 65535, 0, 10, 65535, 0, 11, 65535, 0, 12, 65535, 0, 13, 65535, 0, 14, 65535, 0, 15, 65535, 0, 16, 65535, 0, 17, 65535, 0, 18, 65535, 0, 19, 65535, 0, 20, 65535, 0, 21, 65535, 0, 22, 65535, 0, 23, 65535, 0, 24, 65535, 0, 25, 65535, 0, 26, 65535, 0, 27, 65535, 0, 28, 65535, 0, 29, 65535, 0, 30, 65535, 0, 31, 65535, 0, 32, 65535, 0, 33, 65535, 0, 34, 65535, 0, 65534, 65535, 2, 65535, 65535, 0 )
}
script = ExtResource( 4 )
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Player" parent="GridMap" instance=ExtResource( 1 )]
starting_pos = Vector2( 3, 0 )

[node name="PlayerHealthBar" parent="GridMap/Player" instance=ExtResource( 11 )]

[node name="Dice" parent="GridMap" instance=ExtResource( 3 )]
max_health = 1
starting_pos = Vector2( 25, 0 )

[node name="NormalTile" type="MeshInstance" parent="."]
visible = false
mesh = ExtResource( 7 )
material/0 = ExtResource( 6 )
material/1 = ExtResource( 8 )

[node name="StartTile" type="MeshInstance" parent="."]
visible = false
mesh = ExtResource( 14 )
material/0 = ExtResource( 6 )
material/1 = ExtResource( 8 )
material/2 = null

[node name="EndTile" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.359612, 0, 0 )
visible = false
mesh = ExtResource( 13 )
material/0 = ExtResource( 6 )
material/1 = ExtResource( 8 )
material/2 = null

[node name="PokerTileRed1" type="MeshInstance" parent="."]
visible = false
mesh = ExtResource( 5 )
material/0 = null
material/1 = null
material/2 = null
material/3 = null

[node name="PokerTileRed2" type="MeshInstance" parent="."]
visible = false
mesh = ExtResource( 9 )
material/0 = null
material/1 = null
material/2 = null
material/3 = null

[node name="GameOverMenu" parent="." instance=ExtResource( 12 )]
visible = false

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 10 )
volume_db = -9.5
autoplay = true

[connection signal="game_over" from="GridMap/Player" to="GameOverMenu" method="_on_Player_game_over"]
[connection signal="health_changed" from="GridMap/Player" to="GridMap/Player/PlayerHealthBar" method="_on_Player_health_changed"]
